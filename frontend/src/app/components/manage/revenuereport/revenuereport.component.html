<div class="container">
  <h3>Revenue Report</h3>

  <form (ngSubmit)="generateReport()" class="form-container">
    <h2>Revenue Report</h2>
    <div class="form-group">
      <label for="createdAt">From Date:</label>
      <input type="date" id="createdAt" [(ngModel)]="createdAt" name="createdAt" required />
    </div>
    <div class="form-group">
      <label for="expiryDate">To Date:</label>
      <input type="date" id="expiryDate" [(ngModel)]="expiryDate" name="expiryDate" required />
    </div>
    <button type="submit" class="btn btns">Generate Report</button>
  </form>

  <div *ngIf="reportData.length > 0" class="table-container">
    <table>
      <thead>
        <tr>
          <th>Member</th>
          <th>Membership Number</th>
          <th>Total Amount</th>
          <th>Date</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let renewal of reportData">
          <td>{{ renewal.member_id?.fullname }}</td>
          <td>{{ renewal.member_id?.membership_number }}</td>
          <td>{{ renewal.total_amount | currency }}</td>
          <td>{{ renewal.renew_date | date: 'yyyy-MM-dd' }}</td>
        </tr>
      </tbody>
    </table>
    <button class="btn btn-primary print-button" (click)="printReport()"><i class="fas fa-print"></i> Print Report</button>
  </div>

  <div *ngIf="reportData.length === 0 && (createdAt || expiryDate)" class="no-data">
    <p>No data found for the selected date range.</p>
  </div>
</div>
